import{aa as B,ab as P,b as M,V as T,I as W,C as b,ac as w,p as z,m as y,g as t,k as E,s as v,h as G,a9 as S,o as D,w as I,y as R,q as j,v as F}from"./DhgA-MYx.js";import{f as H,a as J}from"./CqfPujLJ.js";import"./dDVp0x_e.js";import{o as K,a as L}from"./U2GiaHM_.js";import{a as N}from"./3RfNQFC1.js";import{p as g,b as O}from"./EsF0eeuf.js";import{i as Q}from"./BxwXIULK.js";import{C as U}from"./CFNrZGOd.js";function le(e,r,u=r){var i=new WeakSet;B(e,"input",async o=>{var l=o?e.defaultValue:e.value;if(l=V(e)?x(l):l,u(l),b!==null&&i.add(b),await P(),l!==(l=r())){var f=e.selectionStart,a=e.selectionEnd,d=e.value.length;if(e.value=l??"",a!==null){var n=e.value.length;f===a&&a===d&&n>d?(e.selectionStart=n,e.selectionEnd=n):(e.selectionStart=f,e.selectionEnd=Math.min(a,n))}}}),(W&&e.defaultValue!==e.value||M(r)==null&&e.value)&&(u(V(e)?x(e.value):e.value),b!==null&&i.add(b)),T(()=>{var o=r();if(e===document.activeElement){var l=w??b;if(i.has(l))return}V(e)&&o===x(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function V(e){var r=e.type;return r==="number"||r==="range"}function x(e){return e===""?null:+e}var X=H('<div class="contenedor-grafico svelte-5fsi8x"><canvas></canvas></div>');function se(e,r){z(r,!1);let u=g(r,"titulo",8,""),i=g(r,"etiquetas",24,()=>[]),o=g(r,"valores",24,()=>[]),l=g(r,"colores",8,null),f=y(),a=y();const d=(s,c)=>typeof document>"u"?c:getComputedStyle(document.documentElement).getPropertyValue(s).trim()||c,n=()=>{if(Array.isArray(l())&&l().length)return[...l()];const s=d("--color-primario","#2c3e50"),c=d("--color-secundario","#3498db"),C=d("--color-acento","#e74c3c"),k=d("--color-fondo","#ecf0f1");return[s,c,C,k]};let _=y(n());const h=s=>{const c=t(_).length?t(_):["#2c3e50","#3498db","#e74c3c","#9b59b6"];return Array.from({length:s},(C,k)=>c[k%c.length])};let m=y(h(o().length));const q=()=>{if(!t(f))return;v(_,n()),v(m,h(o().length));const s=typeof document<"u"&&getComputedStyle(document.documentElement).getPropertyValue("--color-texto")||"#2c3e50",c=t(f);v(a,new U(c,{type:"doughnut",data:{labels:i(),datasets:[{data:o(),backgroundColor:t(m),borderColor:"#ffffff",borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:s}},title:{display:!!u(),text:u(),color:s}}}}))};K(()=>{q()}),L(()=>{var s;(s=t(a))==null||s.destroy()}),E(()=>{},()=>{v(_,n())}),E(()=>G(o()),()=>{v(m,h(o().length))}),E(()=>(t(a),G(i()),G(o()),t(m)),()=>{t(a)&&(S(a,t(a).data.labels=[...i()]),S(a,t(a).data.datasets[0].data=[...o()]),S(a,t(a).data.datasets[0].backgroundColor=[...t(m)]),t(a).update())}),D(),Q();var p=X(),A=I(p);O(A,s=>v(f,s),()=>t(f)),R(p),j(()=>N(A,"aria-label",u())),J(e,p),F()}export{se as G,le as b};

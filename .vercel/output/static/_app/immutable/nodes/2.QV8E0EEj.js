import{f as N,a as g,c as nt}from"../chunks/CqfPujLJ.js";import"../chunks/dDVp0x_e.js";import{p as Ct,k as W,o as Lt,q,v as $t,g as t,b as r,w as e,x as l,m as z,s as b,y as s,z as F,A as vt}from"../chunks/DhgA-MYx.js";import{e as P,s as c}from"../chunks/GTjz6jRx.js";import{i as dt}from"../chunks/CeyXQqgm.js";import{e as mt,d as qt,i as ut,s as zt,a as Pt}from"../chunks/3RfNQFC1.js";import{i as Nt}from"../chunks/BxwXIULK.js";import{s as It,a as Kt}from"../chunks/Bgr80FTy.js";var Ot=N("<button> </button>"),Dt=N('<tr style="background-color: rgba(211, 47, 47, 0.08);"><td><strong> </strong></td><td> </td><td> </td><td class="has-text-right"><span class="status-critico">SIN STOCK</span></td></tr>'),Gt=N('<tr style="background-color: rgba(245, 124, 0, 0.08);"><td><strong> </strong></td><td> </td><td> </td><td class="has-text-right"><span class="status-advertencia"> </span></td></tr>'),Ut=N('<tr><td> </td><td> </td><td> </td><td class="has-text-right"><span class="status-normal"> </span></td></tr>'),Bt=N('<section class="section"><div class="hero-gradient mb-6"><div class="columns is-vcentered"><div class="column"><span class="etiqueta svelte-1uha8ag">Sistema Inteligente de Gestión de Activos</span> <h1 class="title heading-gradient">Gestiona tu tiempo, no tu inventario</h1> <p class="subtitle mt-3">SIGA es tu ERP simplificado. Automatiza el control de stock en tiempo real para que te enfoques en lo que realmente importa: crecer sin interrupciones.</p> <div class="buttons mt-5"><a class="button is-link is-medium" href="/analisis">Descubre las insights</a></div></div></div></div> <div class="columns is-multiline mb-6"><div class="column is-half-tablet is-one-third-desktop"><div class="kpi-card"><p class="heading is-6" style="color: var(--color-primario);">Productos en Stock</p> <p class="title is-4" style="color: var(--color-secundario);"> </p> <p class="is-size-7">SKU activos en el sistema</p></div></div> <div class="column is-half-tablet is-one-third-desktop"><div class="kpi-card"><p class="heading is-6" style="color: var(--color-primario);">Locales Conectados</p> <p class="title is-4" style="color: var(--color-secundario);"> </p> <p class="is-size-7">Kioscos monitoreados</p></div></div> <div class="column is-half-tablet is-one-third-desktop"><div class="kpi-card"><p class="heading is-6" style="color: var(--color-primario);">Precisión de Datos</p> <p class="title is-4" style="color: #388e3c;">99.2%</p> <p class="is-size-7">Confiabilidad en tiempo real</p></div></div></div> <div class="box"><h2 class="title is-3 has-text-weight-semibold">Stock por sucursal</h2> <p class="subtitle is-5">Visualiza el inventario en tiempo real. Ordena por lo que necesites y actúa al instante.</p> <div class="local-selector mt-5 mb-5 svelte-1uha8ag"></div> <div class="table-wrapper svelte-1uha8ag"><div class="table-container svelte-1uha8ag"><table class="table is-fullwidth is-striped is-hoverable"><thead><tr><th class="sortable-header"> </th><th class="sortable-header"> </th><th class="sortable-header"> </th><th class="sortable-header has-text-right"> </th></tr></thead><tbody></tbody></table></div></div></div></section>');function Mt(_t,ht){Ct(ht,!1);const v=()=>Kt(qt,"$datosNegocio",pt),[pt,gt]=It(),R=z(),X=z();let d=z(0),p=z("nombre"),k=z(!0);const I=i=>{t(p)===i?b(k,!t(k)):(b(p,i),b(k,!0))},K=i=>t(p)!==i?"":t(k)?" ↑":" ↓";W(()=>(v(),t(d)),()=>{const i=v().locales??[];!t(d)&&i.length&&b(d,i[0].id)}),W(()=>(v(),t(d)),()=>{b(R,(v().productos??[]).map(i=>{const o=(i.stock??{})[String(t(d))]??0;return{...i,stockActual:o}}))}),W(()=>(t(R),t(p),t(k)),()=>{b(X,[...t(R)].sort((i,a)=>{let o=0,n=0;t(p)==="nombre"?(o=i.nombre.toLowerCase()>a.nombre.toLowerCase()?1:-1,n=0):t(p)==="sku"?(o=i.sku.toLowerCase()>a.sku.toLowerCase()?1:-1,n=0):t(p)==="categoria"?(o=i.categoria.toLowerCase()>a.categoria.toLowerCase()?1:-1,n=0):t(p)==="stock"&&(o=i.stockActual,n=a.stockActual);const m=o<n?-1:o>n?1:0;return t(k)?m:-m}))}),Lt(),Nt();var T=Bt(),V=l(e(T),2),j=e(V),Y=e(j),Z=l(e(Y),2),bt=e(Z,!0);s(Z),F(2),s(Y),s(j);var tt=l(j,2),at=e(tt),st=l(e(at),2),kt=e(st,!0);s(st),F(2),s(at),s(tt),F(2),s(V);var et=l(V,2),H=l(e(et),4);mt(H,5,()=>(v(),r(()=>v().locales)),ut,(i,a)=>{var o=Ot(),n=e(o,!0);s(o),q(()=>{zt(o,1,(t(d),t(a),r(()=>`local-btn ${t(d)===t(a).id?"is-active":""}`)),"svelte-1uha8ag"),Pt(o,"aria-pressed",(t(d),t(a),r(()=>t(d)===t(a).id))),c(n,(t(a),r(()=>t(a).nombre)))}),P("click",o,()=>b(d,t(a).id)),g(i,o)}),s(H);var rt=l(H,2),it=e(rt),ot=e(it),J=e(ot),lt=e(J),O=e(lt),ft=e(O);s(O);var D=l(O),xt=e(D);s(D);var G=l(D),yt=e(G);s(G);var M=l(G),At=e(M);s(M),s(lt),s(J);var ct=l(J);mt(ct,5,()=>t(X),ut,(i,a)=>{var o=nt(),n=vt(o);{var m=f=>{var x=Dt(),A=e(x),U=e(A),Q=e(U,!0);s(U),s(A);var u=l(A),h=e(u,!0);s(u);var _=l(u),y=e(_,!0);s(_),F(),s(x),q(()=>{c(Q,(t(a),r(()=>t(a).nombre))),c(h,(t(a),r(()=>t(a).sku))),c(y,(t(a),r(()=>t(a).categoria)))}),g(f,x)},St=f=>{var x=nt(),A=vt(x);{var U=u=>{var h=Gt(),_=e(h),y=e(_),S=e(y,!0);s(y),s(_);var w=l(_),C=e(w,!0);s(w);var L=l(w),B=e(L,!0);s(L);var $=l(L),E=e($),wt=e(E,!0);s(E),s($),s(h),q(()=>{c(S,(t(a),r(()=>t(a).nombre))),c(C,(t(a),r(()=>t(a).sku))),c(B,(t(a),r(()=>t(a).categoria))),c(wt,(t(a),r(()=>t(a).stockActual)))}),g(u,h)},Q=u=>{var h=Ut(),_=e(h),y=e(_,!0);s(_);var S=l(_),w=e(S,!0);s(S);var C=l(S),L=e(C,!0);s(C);var B=l(C),$=e(B),E=e($,!0);s($),s(B),s(h),q(()=>{c(y,(t(a),r(()=>t(a).nombre))),c(w,(t(a),r(()=>t(a).sku))),c(L,(t(a),r(()=>t(a).categoria))),c(E,(t(a),r(()=>t(a).stockActual)))}),g(u,h)};dt(A,u=>{t(a),r(()=>t(a).stockActual<5)?u(U):u(Q,!1)},!0)}g(f,x)};dt(n,f=>{t(a),r(()=>t(a).stockActual===0)?f(m):f(St,!1)})}g(i,o)}),s(ct),s(ot),s(it),s(rt),s(et),s(T),q((i,a,o,n)=>{c(bt,(v(),r(()=>{var m;return((m=v().productos)==null?void 0:m.length)||0}))),c(kt,(v(),r(()=>{var m;return((m=v().locales)==null?void 0:m.length)||0}))),c(ft,`Nombre${i??""}`),c(xt,`SKU${a??""}`),c(yt,`Categoría${o??""}`),c(At,`Stock actual${n??""}`)},[()=>r(()=>K("nombre")),()=>r(()=>K("sku")),()=>r(()=>K("categoria")),()=>r(()=>K("stock"))]),P("click",O,()=>I("nombre")),P("click",D,()=>I("sku")),P("click",G,()=>I("categoria")),P("click",M,()=>I("stock")),g(_t,T),$t(),gt()}export{Mt as component};
